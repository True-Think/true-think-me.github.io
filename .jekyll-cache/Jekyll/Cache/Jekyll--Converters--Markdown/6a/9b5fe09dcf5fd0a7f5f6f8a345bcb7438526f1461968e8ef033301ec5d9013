I"é<h1 id="sparkå…¥é—¨">Sparkå…¥é—¨</h1>

<h3 id="spark-æ¦‚å¿µ">Spark æ¦‚å¿µ</h3>

<ul>
  <li>è§£å†³MapReduceè®¡ç®—æ…¢çš„é—®é¢˜ï¼Œæ¥å£ç®€å•ç¼–ç¨‹ä¸çµæ´»ï¼Œåªèƒ½ç¦»çº¿è®¡ç®—</li>
  <li>åŸºäºå†…å­˜åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ï¼Œé€Ÿåº¦å¿«</li>
  <li>åªè´Ÿè´£è®¡ç®—ï¼Œä¸è´Ÿè´£å­˜å‚¨</li>
  <li>Sparkç¦»çº¿è®¡ç®—åŠŸèƒ½ç±»ä¼¼äºmapreduce</li>
  <li>Hadoopç”Ÿæ€åœˆ
    <ul>
      <li>æ‰¹å¤„ç†ï¼šMapReduceã€Hiveã€Pig</li>
      <li>æµå¼è®¡ç®—ï¼šStorm</li>
      <li>äº¤äº’å¼è®¡ç®—ï¼šImpalaã€presto</li>
    </ul>
  </li>
  <li>Sparkä¼˜åŠ¿ï¼š
    <ul>
      <li>è¿è¡Œé€Ÿåº¦å¿«</li>
      <li>è‡ªèº«ç”Ÿæ€æ¯”è¾ƒå®Œå–„
        <ul>
          <li>Spark sql</li>
          <li>Spark streaming</li>
          <li>Spark mllib/Spark ML</li>
        </ul>
      </li>
      <li>apiæ¯”è¾ƒä¸°å¯Œ</li>
    </ul>
  </li>
</ul>

<h3 id="ä»€ä¹ˆæ˜¯rdd">ä»€ä¹ˆæ˜¯RDDï¼Ÿ</h3>

<p>RDD(Resillient Distributed Dataset)å«åšå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œæ˜¯</p>

<ul>
  <li>
    <p>Sparkä¸­æœ€åŸºæœ¬çš„æ•°æ®æŠ½è±¡ï¼Œæ˜¯<strong><u>ä¸å¯å˜ã€å¯åˆ†åŒºã€å¹¶è¡Œè®¡ç®—</u></strong>çš„ã€‚</p>
  </li>
  <li>æ‰€æœ‰Sparkä¸­å¯¹æ•°æ®çš„æ“ä½œæœ€ç»ˆéƒ½ä¼šè½¬æ¢æˆRDDæ“ä½œï¼š
    <ul>
      <li>spark sql</li>
      <li>spark streaming</li>
      <li>spark mlã€spark mllib</li>
    </ul>
  </li>
  <li>åŒhdfsåˆ†å¸ƒå¼åŸç†ï¼Œ
    <ul>
      <li>hdfsæ–‡ä»¶è¢«åˆ‡åˆ†ä¸ºå¤šä¸ªblockå­˜å‚¨åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šï¼Œè€ŒRDDæ˜¯è¢«åˆ‡åˆ†ä¸ºå¤šä¸ªpartitionã€‚ä¸åŒçš„partitionå¯èƒ½åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚</li>
      <li>è¯»hdfsæ—¶ï¼ŒsparkåŠ è½½hdfsæ•°æ®1ä¸ªblockå¯¹äºçš„rddçš„partition</li>
      <li>å†™æ•°æ®æ—¶ï¼Œspark 1ä¸ªpartitionå¯èƒ½å¯¹äºå¤šä¸ªblock</li>
    </ul>
  </li>
  <li>åˆ›å»ºRDD
    <ul>
      <li>å†…å­˜æ–¹å¼
        <ul>
          <li>rdd1 = sc.parallelizel(data)</li>
          <li>rdd1.mapreduce()</li>
        </ul>
      </li>
      <li>åˆ›å»ºRDDæ—¶å¯ä»¥æŒ‡å®špartitionçš„æ•°é‡ï¼ˆRDDä¼šåˆ†æˆå‡ ä»½ï¼‰ä¸€ä¸ªpartitionä¼šå¯¹åº”ä¸€ä¸ªtask,æ ¹æ®CPUçš„å†…æ ¸æ•°æ¥æŒ‡å®špartition(1æ ¸å¯¹åº”2-4ä¸ªpartition)</li>
    </ul>
  </li>
</ul>

:ET